<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="org.jobcho.mapper.UsersMapper">
	<cache />
	
	<!-- 회원가입 -->
	<insert id="insertUsers" parameterType="org.jobcho.domain.UsersVO">
		insert into users values(
		user_num.nextval, #{user_name}, #{user_phoneNum}, #{user_email}, #{user_pw}, #{user_birth}, #{user_pwHint}
	)
	</insert>

	<!-- 비밀번호 찾기 이메일 입력해서 -->
	<select id="findUsers" resultType="org.jobcho.domain.UsersVO" parameterType="String">
		select * from users
				where user_email = #{user_email}
	</select>

	<!-- 비밀번호 재설정 -->
	<update id="updatePw" parameterType="org.jobcho.domain.UsersVO">
		update users set
			user_pw = #{user_pw}
				where user_num = #{user_num}
	</update>
	
	<!-- 로그인 -->
	<select id="loginUsers" parameterType="org.jobcho.domain.UsersVO" resultType="org.jobcho.domain.UsersVO">
		select * from users
			where user_email = #{user_email} and user_pw = #{user_pw}
	</select>
	
	<!-- 수정 -->
	<update id="updateUsers" parameterType="org.jobcho.domain.UsersVO">
		update Users set
			user_name = #{user_name},
			user_phoneNum = #{user_phoneNum},
			user_email = #{user_email},
			user_pw = #{user_pw},
			user_birth = #{user_birth},
			user_pwHint = #{user_pwHint}
				where user_num = #{user_num}
	</update>
	
	<!-- 한명 조회 -->
	<select id="selectUsers" resultType="org.jobcho.domain.UsersVO" parameterType="int">
		select * from users where user_num = #{user_num}
	</select>
	
</mapper>















